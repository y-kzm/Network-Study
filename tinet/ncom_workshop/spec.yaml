nodes:
  - name: R1
    image: slankdev/frr
    interfaces:
      - { name: net0, type: direct, args: Bridge2#net1 }
      - { name: net1, type: direct, args: Bridge2#net0 }
  - name: R2
    image: slankdev/frr
    interfaces:
      - { name: net0, type: direct, args: Bridge1#net1 }
      - { name: net1, type: direct, args: R3#net1 }
      - { name: net2, type: direct, args: R4#net0 }
  - name: R3
    image: slankdev/frr
    interfaces:
      - { name: net0, type: direct, args: Bridge1#net2 }
      - { name: net1, type: direct, args: R2#net1 }
      - { name: net2, type: direct, args: R5#net0 }
  - name: R4
    image: slankdev/frr
    interfaces:
      - { name: net0, type: direct, args: R2#net2 }
      - { name: net2, type: direct, args: R5#net2 }
      - { name: net3, type: direct, args: Bridge0#net1 }
  - name: R5
    image: slankdev/frr
    interfaces:
      - { name: net0, type: direct, args: R3#net2 }
      - { name: net3, type: direct, args: R4#net2 }
      - { name: net3, type: direct, args: Bridge0#net2 }
  - name: R6
    image: slankdev/frr
    interfaces:
      - { name: net0, type: direct, args: R2#net1 }
  
  - name: Bridge0
    interfaces:
      - {name: net0, type: docker, args: R6#net0 }
      - {name: net1, type: docker, args: R4#net3 }
      - {name: net2, type: docker, args: R5#net3 }
  - name: Bridge1
    interfaces:
      - {name: net0, type: docker, args: R1#net0 }
      - {name: net1, type: docker, args: R2#net0 }
      - {name: net2, type: docker, args: R3#net0 }
  - name: Bridge2
    interfaces:
      - {name: net0, type: docker, args: R1#net1 }
      - {name: net1, type: phys }



node_configs:
  - name: R1
    cmds:
      - cmd: /usr/lib/frr/frr start 
      - cmd: >-
        vtysh -c 'conf t'
        -c 'interface lo'
        -c ' ip address 1.1.1.1/32'
        -c '!'









  